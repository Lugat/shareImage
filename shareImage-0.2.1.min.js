/**
* shareImage v0.2.1
* https://github.com/Lugat/shareImage
*
* Copyright (c) 2014 Squareflower Websolutions - Lukas Rydygel
* Licensed under the MIT license
*/
(function(a,k,l,m){function n(d,b){this.name="shareImage";this.version="0.2.1";this.opt=a.extend(!0,{},p,d);this.tmp={};this.element=b;this.$element=a(b);this._init()}var p={helper:"tl",plattforms:{facebook:{uri:"https://www.facebook.com/sharer/sharer.php?u={url}?title={title}&img={img}",helper:"facebook"},twitter:{uri:"https://twitter.com/share?url={url}&text={title}",helper:"twitter"},"google-plus":{uri:"https://plus.google.com/share?url={url}&title={title}&img={img}",helper:"google-plus"},pinterest:{uri:"http://pinterest.com/pin/create/button/?url={url}&description={title}&media={img}", helper:"pinterest"},linkedin:{uri:"http://www.linkedin.com/shareArticle?mini=true&url={url}?title={title}&img={img}",helper:"linkedin"},buffer:{uri:"http://bufferapp.com/add?url={url}&text={title}&img={img}",helper:"share-alt"},digg:{uri:"http://digg.com/submit?url={url}&title={title}&img={img}",helper:"digg"},tumblr:{uri:"http://www.tumblr.com/share/link?url={url}&name={title}&img={img}",helper:"tumblr"},reddit:{uri:"http://reddit.com/submit?url={url}&title={title}&img={img}",helper:"reddit"},stumbleupon:{uri:"http://www.stumbleupon.com/submit?url={url}&title={title}&img={img}", helper:"stumbleupon"},delicious:{uri:"https://delicious.com/save?v=5&url={url}&title={title}&img={img}",helper:"delicious"}},getTitle:function(){return a(this).attr("alt")},getUrl:function(){return a(this).parent("article").find("h1, h2, h3").children("a").attr("href")}};n.prototype={_init:function(){this._buildHtml();a(l).on("click",".share-image-buttons a",function(d){d.preventDefault();var b=a(this).data("size").split(",");d=a(this).attr("href");var h=b[0],b=b[1],c,e;c=k.screen.width/2-(h/2+10); e=k.screen.height/2-(b/2+50);k.open(d,"","status=no,height="+b+",width="+h+",resizable=yes,left="+c+",top="+e+",screenX="+c+",screenY="+e+",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no")})},_buildHtml:function(){this.tmp["class"]=this.$element.attr("class");this.tmp.style=this.$element.attr("style");this.tmp["class"]===m&&(this.tmp["class"]="");this.tmp.style===m&&(this.tmp.style="");this.$element.removeAttr("class style");var d=encodeURIComponent(this.$element.attr("src")),b=this.opt.getTitle.apply(this.element), h=encodeURIComponent(this.opt.getUrl.apply(this.element)),c,e,g='<span class="share-image-buttons '+this.opt.helper+'">',f;for(f in this.opt.plattforms)this.opt.plattforms.hasOwnProperty(f)&&!1!==this.opt.plattforms[f]&&(c=a.extend(!0,{},{helper:f,title:"share on "+f,size:[480,320]},this.opt.plattforms[f]),e=c.uri.replace("{title}",b).replace("{url}",h).replace("{img}",d),g+='<a href="'+e+'" target="_blank" class="btn-'+c.helper+'" data-size="'+c.size.toString()+'" title="'+c.title+'"><i class="fa fa-'+ c.helper+'"></i></a>');g+="</span>";(0===a(this.element,"a").length?this.$element.parents("a"):this.$element).wrap('<div class="'+this.tmp["class"]+'" style="'+this.tmp.style+'" />').wrap('<div class="share-image clearfix" />').after(g)},destroy:function(){this.$element.parent(".share-image").children(".share-image-buttons").remove();(0===a(this.element,"a").length?this.$element.closest("a"):this.$element).unwrap().unwrap();this.$element.data();this.$element.attr({"class":this.tmp["class"],style:this.tmp.style}); a(l).off("click",".share-image-buttons a")}};a.widget.bridge("shareImage",n)})(jQuery,window,document);