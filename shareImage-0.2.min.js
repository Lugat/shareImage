/**
* shareImage v0.2
* https://github.com/Lugat/shareImage
*
* Copyright (c) 2014 Squareflower Websolutions - Lukas Rydygel
* Licensed under the MIT license
*/
(function(c,k,l,p){function m(a,b){this.name=n;this.version=q;this.opt=r;this.element=b;this.$element=c(b);this.setOptions(a);this._init()}var n="shareImage",q="0.1.1",r={plattforms:{facebook:{uri:"https://www.facebook.com/sharer/sharer.php?u={url}?title={title}&img={img}",helper:"facebook"},twitter:{uri:"https://twitter.com/share?url={url}&text={title}",helper:"twitter"},"google-plus":{uri:"https://plus.google.com/share?url={url}&title={title}&img={img}",helper:"google-plus"},pinterest:{uri:"http://pinterest.com/pin/create/button/?url={url}&description={title}&media={img}", helper:"pinterest"},linkedin:{uri:"http://www.linkedin.com/shareArticle?mini=true&url={url}?title={title}&img={img}",helper:"linkedin"},buffer:{uri:"http://bufferapp.com/add?url={url}&text={title}&img={img}",helper:"share-alt"},digg:{uri:"http://digg.com/submit?url={url}&title={title}&img={img}",helper:"digg"},tumblr:{uri:"http://www.tumblr.com/share/link?url={url}&name={title}&img={img}",uri:"http://www.tumblr.com/share/link?url={url}&name={title}&img={img}",helper:"tumblr"},reddit:{uri:"http://reddit.com/submit?url={url}&title={title}&img={img}", helper:"reddit"},stumbleupon:{uri:"http://www.stumbleupon.com/submit?url={url}&title={title}&img={img}",helper:"stumbleupon"},delicious:{uri:"https://delicious.com/save?v=5&url={url}&title={title}&img={img}",helper:"delicious"}},getTitle:function(){return c(this).attr("alt")},getUrl:function(){return c(this).parent("article").find("h1, h2, h3").children("a").attr("href")}};m.prototype={_init:function(){this._buildHtml();c(l).on("click",".share-image-buttons a",function(a){a.preventDefault();var b= c(this).data("size").split(",");a=c(this).attr("href");var h=b[0],b=b[1],d,e;d=k.screen.width/2-(h/2+10);e=k.screen.height/2-(b/2+50);k.open(a,"","status=no,height="+b+",width="+h+",resizable=yes,left="+d+",top="+e+",screenX="+d+",screenY="+e+",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no")})},_buildHtml:function(){var a=encodeURIComponent(this.$element.attr("src")),b=this.opt.getTitle.apply(this.element),h=encodeURIComponent(this.opt.getUrl.apply(this.element)),d,e,f='<span class="share-image-buttons">', g;for(g in this.opt.plattforms)this.opt.plattforms.hasOwnProperty(g)&&!1!==this.opt.plattforms[g]&&(d=c.extend(!0,{},{helper:g,size:[480,320]},this.opt.plattforms[g]),e=d.uri.replace("{title}",b).replace("{url}",h).replace("{img}",a),f+='<a href="'+e+'" target="_blank" class="btn-'+d.helper+'" data-size="'+d.size.toString()+'"><i class="fa fa-'+d.helper+'"></i></a>');f+="</span>";(0===c(this.element,"a").length?this.$element.parents("a"):this.$element).wrap('<div class="share-image clearfix" />').after(f)}, setOptions:function(a){this.opt=c.extend(!0,{},this.opt,a)},getOptions:function(){return this.opt},options:function(a){return"object"===typeof a?this.setOptions(a):this.getOptions()},option:function(a,b){if("string"===typeof a&&this.opt[a]){if(b===p)return this.opt[a];this.opt[a]=b}},destroy:function(){this.$element.parent(".share-image").children(".share-image-buttons").remove();(0===c(this.element,"a").length?this.$element.closest("a"):this.$element).unwrap();c(l).off("click",".share-image-buttons a")}}; c.widget.bridge(n,m)})(jQuery,window,document);