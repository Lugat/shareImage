/**
* shareImage v0.3
* https://github.com/Lugat/shareImage
*
* Copyright (c) 2014 Squareflower Websolutions - Lukas Rydygel
* Licensed under the MIT license
*/
(function(c,k,p,l){function m(b,a){this.name="shareImage";this.version="0.3";this.opt=c.extend(!0,{},n,b);this.tmp={};this.element=a;this.$element=c(a);this._init()}var n={helper:"tl",plattforms:{facebook:{uri:"https://www.facebook.com/sharer/sharer.php?u={url}?title={title}&img={img}",helper:"facebook"},twitter:{uri:"https://twitter.com/share?url={url}&text={title}",helper:"twitter"},"google-plus":{uri:"https://plus.google.com/share?url={url}&title={title}&img={img}",helper:"google-plus"},pinterest:{uri:"http://pinterest.com/pin/create/button/?url={url}&description={title}&media={img}", helper:"pinterest"},linkedin:{uri:"http://www.linkedin.com/shareArticle?mini=true&url={url}?title={title}&img={img}",helper:"linkedin"},buffer:{uri:"http://bufferapp.com/add?url={url}&text={title}&img={img}",helper:"share-alt"},digg:{uri:"http://digg.com/submit?url={url}&title={title}&img={img}",helper:"digg"},tumblr:{uri:"http://www.tumblr.com/share/link?url={url}&name={title}&img={img}",helper:"tumblr"},reddit:{uri:"http://reddit.com/submit?url={url}&title={title}&img={img}",helper:"reddit"},stumbleupon:{uri:"http://www.stumbleupon.com/submit?url={url}&title={title}&img={img}", helper:"stumbleupon"},delicious:{uri:"https://delicious.com/save?v=5&url={url}&title={title}&img={img}",helper:"delicious"}},getTitle:function(){return c(this).attr("alt")},getUrl:function(){return c(this).parents("article").find("h1, h2, h3").children("a").attr("href")}};m.prototype={_init:function(){this._buildHtml();this.$element.parent(".share-image").children(".share-image-buttons").children("a").bind("click",function(b){b.preventDefault();var a=c(this).data("size").split(",");b=c(this).attr("href"); var h=a[0],a=a[1],d,e;d=k.screen.width/2-(h/2+10);e=k.screen.height/2-(a/2+50);k.open(b,"","status=no,height="+a+",width="+h+",resizable=yes,left="+d+",top="+e+",screenX="+d+",screenY="+e+",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no")})},_buildHtml:function(){this.tmp["class"]=this.$element.attr("class");this.tmp.style=this.$element.attr("style");this.tmp["class"]===l&&(this.tmp["class"]="");this.tmp.style===l&&(this.tmp.style="");this.$element.removeAttr("class style");var b= encodeURIComponent(this.$element.attr("src")),a=this.opt.getTitle.apply(this.element),h=encodeURIComponent(this.opt.getUrl.apply(this.element)),d,e,g='<span class="share-image-buttons '+this.opt.helper+'">',f;for(f in this.opt.plattforms)this.opt.plattforms.hasOwnProperty(f)&&!1!==this.opt.plattforms[f]&&(d=c.extend(!0,{},{helper:f,title:"share on "+f,size:[480,320]},this.opt.plattforms[f]),e=d.uri.replace("{title}",a).replace("{url}",h).replace("{img}",b),g+='<a href="'+e+'" target="_blank" class="btn-'+ d.helper+'" data-size="'+d.size.toString()+'" title="'+d.title+'"><i class="fa fa-'+d.helper+'"></i></a>');g+="</span>";b=0===c(this.element,"a").length?this.$element.parents("a"):this.$element;a=b.css("float");b.wrap('<div class="'+this.tmp["class"]+'" style="'+this.tmp.style+'" />').wrap('<div class="share-image clearfix" />').after(g);b.parent(".share-image").css("float",a)},destroy:function(){this.$element.parent(".share-image").children("share-image-buttons").remove();(0===c(this.element,"a").length? this.$element.closest("a"):this.$element).unwrap().unwrap();this.$element.data();this.$element.attr({"class":this.tmp["class"],style:this.tmp.style})}};c.widget.bridge("shareImage",m)})(jQuery,window,document);